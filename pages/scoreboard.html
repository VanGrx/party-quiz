<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Grkinho</title>


<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>

function handleStatus(status){

var playerText = status["playersEntered"]+"/"+status["playerNumber"];

var questionText = status["currQuestion"]+"/"+status["totalQuestions"];

var createdText = status["gameCreated"] == true ? "DA" : "NE";
var readyText = status["gameReady"] == true ? "DA" : "NE";
var startedText = status["gameStarted"] == true ? "DA" : "NE";


document.getElementById("playersConnected").innerHTML = playerText;
document.getElementById("questions").innerHTML = questionText;
document.getElementById("gameCreated").innerHTML = createdText;
document.getElementById("gameReady").innerHTML = readyText;
document.getElementById("gameStarted").innerHTML = startedText;

}

function getStatus(){

var data = {};

data["status"]="1";

var res = JSON.stringify(data)

console.log(res);


$.ajax({
  type: "GET",
  url: "./scoreboard.html",
  data: data,
  success: function(data){
        handleStatus(data);

      },
  error: function(error){
    console.log("Error:");
    console.log(error);
}
});

}

window.setInterval(function(){
  getStatus();  //calling every .5 seconds
}, 500);


</script>


</head>
<body>
<label >Pitanja inicijalizovana:</label>
<label id="gameCreated">Ne</label>
<br/>
<label >Igra spremna:</label>
<label id="gameReady">Ne</label>
<br/>

<label >Igra pocela:</label>
<label id="gameStarted">Ne</label>
<br/>

<label >Igraca konektovano:</label>
<label id="playersConnected">0/0</label>
<br/>

<label >Pitanje:</label>
<label id="questions">0/0</label>
</body>
</html>
